# Lezione 05
Nella scorsa lezione è stato introdotto il teorema che mette in relazione espressioni regolari e automi: essi descrivono esattamente la stessa classe di linguaggi.
###### Teorema - Linguaggi ed Espressioni Regolari
Un linguaggio è regolare se e solo se esiste una espressione regolare che lo descrive. In particolare $$REG\equiv L(re).$$
**Dimostazione:**
- **$L(re)\subseteq REG:$**
Data un espressione regolare $r$, costruisco un NFA/DFA che lo riconosce, ovvero $L(N_{r})=L(r)$

Per farlo, ci aiuta la definizione ricorsiva che abbiamo delle espressioni regolari:
**Caso base**:
- $r=a,a\in\Sigma$:
$$\begin{aligned}N_{r}=(\{q_{1},q_{2}\},\Sigma,\delta,q_{1},\{q_{2} \})\\ \delta(q_{1},a) =q_{2} \\ \delta(q,b)=\emptyset,\quad q\neq q_{1}, b\neq a \end{aligned}$$
- $r=\mathcal{E}$:
$$\begin{aligned}N_{r}=(\{q_{1}\},\Sigma,\delta,q_{1},\{q_{2} \})\\\delta(q_{1},b)=\emptyset,\quad\forall b\in\Sigma \end{aligned}$$
- $r=\emptyset$
$$\begin{aligned}N_{r}=(\{q_{1}\},\Sigma,\delta,q_{1},\emptyset\\ \delta(q_{1},a) =q_{2} \\ \delta(q_{1},b)=\emptyset,\quad \forall  b\in\Sigma \end{aligned}$$
**Caso Induttivo:**
Se $r=R_{1}\cup R_{2},$ per induzione avremo che $\exists M_{1},M_{2}$ tali che $L(M_{1})=L(R_{1})$ e $L(M_{2})=L(R_{2})$
$\implies\exists M$ tale che $L(M)=L(R_{1})\cup L(R_{2})$ (per chiusura di $REG$)

Stessa cosa per concatenazione "$\circ$" e star "$*$"

questo è un modo per definire un NFA a partire dall'espressione regolare.

Esercizio: $(ab\cup a)^{*}$. Qual è il suo NFA corrispondente?
<span style="background:#affad1">IMMAGINE RISOLUZIONE DELL'ESERCIZIO</span>

- $REG\subseteq L(re)$
Partendo da un NFA voglio tradurlo in un'espressione regolare. Quindi partiamo da un NFA $N$. Per $L\in REG$:

$L(N)=L.$ Per facilitare la conversione in espressione regolare introduciamo il **NFA generalizzato (GNFA)**

Le etichette degli archi saranno espressioni regolari. Inoltre assumiamo senza perdita di generalità che il GNFA sia in forma canonica:
- Lo stato iniziale: ha solo archi uscenti.
- Lo stato finale: ha solo archi entranti.
-  Eccetto lo stato finale e lo stato iniziale c'è un arco per ogni coppia di stati.
In pratica: $$(G=Q,\Sigma,\delta,q_{start},q_{acc})$$
$$\delta:Q\setminus \{q_{acc} \}\times Q\setminus \{q_{start} \}\longrightarrow\underset{\substack{\text{Insieme delle} \\ \text{espressioni regolari} \\ \text{su }\Sigma}}{\underbrace{\mathcal{R}=re(\Sigma)}}$$

$Q\equiv$ insieme espressione

Perché la forma canonica è senza perdita di generalità?

Posso sembre aggiungere: $q_{start},q_{acc}$ e gli archi mancanti tra ogni coppia di stati.

<span style="background:#affad1">DISEGNO</span>

Siamo pronti per convertire $G$ in espressione regolare.
 $Convert(G):$
 - Sia $k=\#$ stati in $G$
 - Se $k=r,G$ avrà solo 2 stati: $q_{start},q_{acc}$ e un solo arco con etichetta $R\in\mathcal{R}$ con output $R.$
 - Se $k>r,$ scelgo $q_{rip}\in Q,\quad q_{rip}\in q_{start},q_{acc}$ e definisco $G'=(Q',\mathcal{E},\delta',q_{start},q_{acc})$ dove $Q'=Q\setminus\{q_{rip} \}$

La $$\delta':Q'\setminus\{q_{acc} \}\times Q'\setminus \{q_{start} \}\longrightarrow \mathcal{R}$$
$$\forall q_{i}\in Q'\setminus \{q_{acc} \}, q_{j}\in Q'\setminus\{q_{start} \}$$
$$\delta'(q_{i},q_{i})=(R_{1})(R_{2})^{*}(R_{3})\cup R_{4}$$
<span style="background:#affad1">DISEGNO DI $q_{i},q_{j} e q_{rip}$</span>

$$\begin{gathered}R_{1}=\delta(q_{i},q_{rip}) \\ R_{2} = \delta(q_{rip},q_{rip})\\ R_{3}=\delta(q_{rip},q_{j})\\ R_{4}=\delta(q_{i},q_{j}) \end{gathered}$$
Lancio $Convert(G):$
Per concludere:
Devo dimostrare che $Convert(G)$ è equivalente a $G.$ Per $k=2$ è sicuramente vero (banale).

L'espressione regolare $R$ descrive tutte le stringhe che portano $G$ da $q_{start}$ a $q_{acc}$

Suppongo vero per $k-1$ stati e faccio vedere che è vero per $k$ stati. Basta mostrare che $L(G)=L(G').$ Così la prova segue dall'ipotesi induttiva siccome $\#$ stati di $G'$ è $k-1$. Ma se $G$ accetta $w$, allora $\exists$ un ramo di computazione tale che $G$ percorre gli stati $q_{start},q_{1},...,q_{acc}$.

Se la sequenza non contiene $q_{rip},$ allora banalmente $L(G)=L(G')$ perché le nuove espressioni regolari contengono le vecchie come unione. Se c'è $q_{rip}$ avrò ad esempio $q_{1}q_{rip}q_{2}$

e quindi una nuova sequenza di stati per $G'.$ Ma gli stati adiacenti a $q_{rip}$ ($q_{1} e q_{2}$) in $G'$ hanno un arco che tiene conto di tutti i modi per andare da $q_{1}$ a $q_{2}$ direttamente o passando per $q_{rip}.$

Quindi ancora $L(G)=L(G').\quad\blacksquare$

Esercizio: trovare l'espressione regolare associata a
<span style="background:#affad1">DISEGNO DELL'NFA</span>
<span style="background:#b1ffff">Svolgiamolo!</span>
<span style="background:#affad1">DISEGNO DELLO SVOLGIMENTO</span>
### Pumping Lemma
Tutti i linguaggi sono regolari? La risposta è no.

Ad esempio:
$$L=\{0^{n}1^{n}:n\ge0\}$$
non è un linguaggio regolare, perché l'automa non è capace di contare lo stesso numero di zeri e di uni.

Nella prossima lezione vedremo che il pumping lemma è un modo per dimostrare che un linguaggio non è regolare.
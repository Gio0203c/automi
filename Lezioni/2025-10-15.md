# Lezione 07
###### Esercizi sugli Automi
1. Progettare un automa per il seguente linguaggio: 
$$L=\{w\in \{0,1 \}^{*}: w\text{ termina con } '00' \}$$
![[lez07_01.drawio.svg|700x266]]
**Correttezza:**
$w\in L$ se e solo se $M$ accetta $w$

$\implies:$ Se $w\in L$, allora $M$ accetta $w$.

Per induzione $w=00$ è il caso base e chiaramente $M$ accetta $00$. Nel passo induttivo si ha una situazione del genere:
$$w=w'00,\quad w'\in\{0,1\}^{*}$$
Anche in questo caso è chiaro che $M$ accetta $w$.

$\Longleftarrow:$ Se $M$ accetta $w$, allora $w\in L$. 

Per ispezione, se $M$ accetta $w$, allora esiste un ramo di computazione che termina con $q_{2}.$ Ovvero termina con $'00'$ e $w\in L$.

2. Consideriamo $r=1^{*}(00\ 1^{+})^{*}$ dove $1^{+}$ come $1^{*}$ ma deve essere presente almeno un'occorrenza.
Progettare un automa per $L(r)$ con $3$ stati. 

In particolare la stringa deve contenere un numero tra $\mathcal{E}$ e infiniti $1$, seguiti da un numero tra $\mathcal{E}$ e infinite stringhe di $001$, ma se ci sono ciascuna deve essere composta da due zeri seguiti da almeno un $1$.
![[lez07_02.drawio.svG|700x182]]
Se non ci fosse stato il $1^{+}$ sarebbero serviti quattro stati. Infatti la stringa $0011\notin L(r')$ dove $r'=1^{*}(001)^{*}$.

3. Data $w=w_{1},...,w_{n}$ su $\Sigma$ sia $w^{R}$ ("rovesciato") la stringa al contrario.
$$w^{R}=w_{n}w_{n-1}...w_{1}$$

Sia $L$ regolare. Mostrare che $L^{R}=\{w^{R}:w\in L \}$ è regolare.

L'idea sta nello scambiare lo stato iniziale con quello finale (senza perdita di generalità ce n'è uno solo) e invertire gli archi.

Per casa: Da formalizzare.
Ad esempio:
![[lez07_03.drawio.svg|700x325]]
4. Costruire un DFA per $$L=\{w\in \{0,1 \}^{*}: w\notin(01^{+})^{*} \}$$
Uso la chiusura per il complemento. Prima faccio il DFA per $(01^{+})^{*}:$
![[lez07_04.drawio.svg|700x422]]
(Poi inverto stati accettanti e non)

Se facessi il complemento di questo DFA non otterrei la negazione di $(01^{+})^{*}.$

Importante: Per applicare la chiusura è bene che il DFA sia definito su tutti gli stati.
5. $L=\{ww^{R}: w\in \{0,1\}^{*} \}$ non è regolare.
Uso il pumping lemma. Ipotizziamo che sia regolare. Allora $\exists p$ tale che valgono le condizioni del lemma.

considero $w=0^{p}110^{p}\in L.$ $|w|\ge p$.
Prendo una composizione $w=xyz$ tale che $|y|>0, |xy|\le p.$
$\implies y$ è fatta da soli $0$.
$w=0^{k}0^{l}0^{m}110^{p}$

$$\begin{gathered}x+l+m=p;\quad x=0^{k}\\ k\ge 0 \quad y=0^{l} \\ l>0 \quad z=0^{m}110^{p} \end{gathered}$$
Per $i=2$:
$$xy^{2}z=0^{k}0^{2l}0^{m}110^{p}$$
con $\begin{gathered}k=2l+m=k+l+m+l\\ =p+l\ge p.  \end{gathered}\rightarrow\leftarrow.$

6. Dimostrare che $L=\{1^{n^{2}} \text{ con } n\ge 0 \}$ non è regolare. In altre parole, $L$ contiene tutte le stringhe di $1$ la cui lunghezza è un quadrato perfetto.

Per assurdo suppongo che lo sia e scelgo $w=1^{p^{2}}$. Siccome $w\in L$ e la sua lunghezza è almeno $p$, il pumping lemma garantisce che $w$ può essere scomposto in $w=xyz$ con le relative condizioni.

Ricordiamo la sequenza dei quadrati perfetti:
$$0,1,4,9,16,25,36,49,...$$
Notiamo il crescere del gap tra successivi numeri della sequenza. Grandi numeri della sequenza non possono essere uno accanto all'altro.

Adesso considero le stringhe $xyz$ e $xy^{2}z$. Queste stringhe differiscono l'una dall'altra da una singola ripetizione di $y$, e conseguentemente le loro lunghezze differiscono della lunghezza di $y$. Per la condizione $3$ del pumping lemma $|xy|\le p$ e così $|y|\le p$.

Abbiamo $|xyz|=p^{2}$ e quindi $|xy^{2}z|\le p^{2}+p.$ Ma $$p^{2}+p<p^{2}+2p+1=(p+1)^{2}.$$
Inoltre, la condizione $2$ implica che $y$ non sia la stringa vuota e perciò $|xy^{2}z|>p^{2}.$ Quindi, la lunghezza di $xy^{2}z$ è compresa strettamente tra i quadrati perfetti consecutivi $p^{2}$ e $(p+1)^{2}$. Perciò questa lunghezza non può essere essa stessa un quadrato perfetto. Dunque arriviamo alla contraddizione $xy^{2}z\notin L$ e concludiamo che $D$ non è regolare.
#### Grammatiche
Introduciamo un modello di computazione più potente, utile in diverse applicazioni (es. parser per $i$ compilatori). Vedremo che le grammatiche coincidono anche con un diverso tipo si automa.

Ad es. sarà molto facile dare una grammatica che genera le stringhe $0^{n}1^{n}$ con $n\ge0$. Facciamo subito questo come esempio.

Una grammatica è una sequenza di sostituzioni e produzioni:
$$\begin{gathered}\substack{\text{Regole della }\\ \text{grammatica} }\begin{cases} A\longrightarrow0A1& (R_{1}) \\
A \longrightarrow B &(R_{2}) \\
B\longrightarrow \# & (R_{3}) \end{cases} \end{gathered}$$
dove $0,1,\#$ sono **terminali**, mentre $A,B$ sono **variabili**.

La grammatica genera stringhe:
- Scrivo la variabile iniziale
- Sostituisco variabili con altre espressioni seguendo le regole della grammatica
- Ripeto fino a che non ci sono più variabili

Nell'esempio:
$$\begin{gathered} A\stackrel{R_{1}}{\implies}0A1\stackrel{R_{1}}{\implies}00A11 \\ \stackrel{R_{1}}{\implies}000A111\stackrel{R_{2}}{\implies}000B111 \\ \stackrel{R_{3}}{\implies}000\#111\end{gathered}$$
Per ogni tale produzione posso associare un **albero sintattico**:
<span style="background:#affad1">IMMAGINE DELL'ALBERO SINTATTICO</span>

Altra grammatica $G$:
$$\begin{aligned}(R_{1})\quad & E\longrightarrow E+E \\ (R_{1})\quad & E\longrightarrow E*E\\ (R_{1})\quad & E\longrightarrow (E)\\ (R_{1})\quad & E\longrightarrow |0|1|2|...|9 \end{aligned}$$
I terminali sono: $0,1,...9, +,*,(,)$
Variabili: $E$
$G$ genera $(3+4)*4$ ma non genera $(3+4+)*4$
$$\begin{aligned} E &\stackrel{R_{2}}{\implies}E*E \stackrel{R_{3}}{\implies}(E)*E \\ &\stackrel{R_{1}}{\implies}(E+E)*E \stackrel{R_{4}}{\implies} (E+E)*4 \\ &\stackrel{R_{4}}{\implies}(3+E)*4 \stackrel{R_{4}}{\implies} (3+4)*4\end{aligned}$$
<span style="background:#affad1">DISEGNO DELL'ALBERO SINTATTICO 2</span>

###### Definizione - CFG (Context-Free Grammar)
Una grammatica acontestuale (CFG) è una tupla $(V,\Sigma,R,S)$ dove:
- $V$ è l'insieme finito delle variabili
- $\Sigma$ è l'insieme finito dei terminali, ($\underset{\text{finito}}{V\cap\Sigma}=\emptyset$)
- $R$ è l'insieme $V$ di regole
- $S\in V$ è la variabile iniziale.

Se $u,v,w\in\Sigma\cup V$ e $(A\longrightarrow w)\in R$ diremo che $uAv$ produce $uwv$ e lo scriviamo come $uAv\implies uvw$.

Diciamo che $u$ *deriva* $v,u \stackrel{*}{\implies}v$ se:
- $u=v$, oppure
- $\exists u_{1},...u_{k},\quad k\ge 0$ tale che $$u\implies u_{1}\implies u_{2}\implies...\implies u_{k}\implies v.$$
Questo ci permette di definire il linguaggio associato ad una CFG.

Sia $G=(V,\Sigma,R,S)$, allora $L(G)=\{w\in\Sigma^{*}: S\stackrel{*}{\implies} w \}$

Esempio:
<span style="background:#affad1">DISEGNA ESEMPIO</span>

Iniziamo a vedere alcune tecniche per costruire grammatiche:
1. Unione di grammatiche
2. Da DFA alle grammatiche
3. Sfruttare la ricorsione